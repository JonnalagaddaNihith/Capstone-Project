<div class="py-5 bg-light min-vh-100">
  <div class="container">
    <!-- Header -->
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3 animate-slide-up">
      <div>
        <h2 class="mb-1">Welcome back, <span class="gradient-text">{{ authService.getCurrentUser()?.name }}</span>!</h2>
        <p class="text-muted mb-0">Manage your properties and bookings from your dashboard</p>
      </div>
      <a routerLink="/owner/properties/new" class="btn btn-primary d-flex align-items-center gap-2">
        <mat-icon>add</mat-icon>
        Add Property
      </a>
    </div>

    <!-- Stats Cards -->
    <div class="row g-4 mb-5 animate-fade-in">
      <div class="col-sm-6 col-lg-3">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body d-flex align-items-center gap-3">
            <div class="rounded-circle bg-primary bg-opacity-10 p-3">
              <mat-icon class="text-primary">home_work</mat-icon>
            </div>
            <div>
              <h3 class="mb-0 fw-bold">{{ properties.length }}</h3>
              <small class="text-muted">Total Properties</small>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-sm-6 col-lg-3">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body d-flex align-items-center gap-3">
            <div class="rounded-circle bg-warning bg-opacity-10 p-3">
              <mat-icon class="text-warning">pending_actions</mat-icon>
            </div>
            <div>
              <h3 class="mb-0 fw-bold">{{ pendingBookings.length }}</h3>
              <small class="text-muted">Pending Requests</small>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-sm-6 col-lg-3">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body d-flex align-items-center gap-3">
            <div class="rounded-circle bg-success bg-opacity-10 p-3">
              <mat-icon class="text-success">check_circle</mat-icon>
            </div>
            <div>
              <h3 class="mb-0 fw-bold">{{ approvedBookings.length }}</h3>
              <small class="text-muted">Approved Bookings</small>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-sm-6 col-lg-3">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body d-flex align-items-center gap-3">
            <div class="rounded-circle bg-info bg-opacity-10 p-3">
              <mat-icon class="text-info">payments</mat-icon>
            </div>
            <div>
              <h3 class="mb-0 fw-bold">₹{{ totalRevenue }}</h3>
              <small class="text-muted">Estimated Revenue</small>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="mb-5 animate-slide-up">
      <h5 class="mb-3">Quick Actions</h5>
      <div class="row g-3">
        <div class="col-sm-6 col-lg-3">
          <a routerLink="/owner/properties" class="card h-100 text-decoration-none border-0 shadow-sm hover-lift">
            <div class="card-body text-center py-4">
              <mat-icon class="text-primary mb-2" style="font-size: 32px; width: 32px; height: 32px;">apartment</mat-icon>
              <h6 class="mb-1">Manage Properties</h6>
              <small class="text-muted">View and edit your listings</small>
            </div>
          </a>
        </div>
        <div class="col-sm-6 col-lg-3">
          <a routerLink="/owner/bookings" class="card h-100 text-decoration-none border-0 shadow-sm hover-lift">
            <div class="card-body text-center py-4">
              <mat-icon class="text-success mb-2" style="font-size: 32px; width: 32px; height: 32px;">calendar_today</mat-icon>
              <h6 class="mb-1">Booking Requests</h6>
              <small class="text-muted">Approve or reject requests</small>
            </div>
          </a>
        </div>
        <div class="col-sm-6 col-lg-3">
          <a routerLink="/owner/properties/new" class="card h-100 text-decoration-none border-0 shadow-sm hover-lift">
            <div class="card-body text-center py-4">
              <mat-icon class="text-warning mb-2" style="font-size: 32px; width: 32px; height: 32px;">add_home_work</mat-icon>
              <h6 class="mb-1">Add New Property</h6>
              <small class="text-muted">List a new property</small>
            </div>
          </a>
        </div>
        <div class="col-sm-6 col-lg-3">
          <a routerLink="/properties" class="card h-100 text-decoration-none border-0 shadow-sm hover-lift">
            <div class="card-body text-center py-4">
              <mat-icon class="text-info mb-2" style="font-size: 32px; width: 32px; height: 32px;">search</mat-icon>
              <h6 class="mb-1">Browse Market</h6>
              <small class="text-muted">See other properties</small>
            </div>
          </a>
        </div>
      </div>
    </div>

    <!-- Recent Booking Requests -->
    @if (pendingBookings.length > 0) {
      <div class="animate-slide-up">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h5 class="mb-0">Pending Requests</h5>
          <a routerLink="/owner/bookings" class="btn btn-outline-primary btn-sm d-flex align-items-center gap-1">
            View All <mat-icon style="font-size: 16px; width: 16px; height: 16px;">arrow_forward</mat-icon>
          </a>
        </div>
        <div class="card border-0 shadow-sm">
          <div class="list-group list-group-flush">
            @for (booking of pendingBookings.slice(0, 5); track booking.id) {
              <div class="list-group-item d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-2 py-3">
                <div>
                  <h6 class="mb-1">{{ booking.property_title }}</h6>
                  <small class="text-muted">{{ booking.tenant_name }} • {{ booking.tenant_email }}</small>
                </div>
                <div class="d-flex align-items-center gap-3">
                  <small class="text-muted">{{ booking.check_in | date:'MMM d' }} - {{ booking.check_out | date:'MMM d, yyyy' }}</small>
                  <span class="badge badge-pending rounded-pill">Pending</span>
                </div>
              </div>
            }
          </div>
        </div>
      </div>
    }
  </div>
</div>
