<div class="dashboard-page">
  <div class="container">
    <!-- Header -->
    <div class="dashboard-header animate-slide-up">
      <div class="header-content">
        <h1>Welcome, <span class="gradient-text">{{ authService.getCurrentUser()?.name }}</span>!</h1>
        <p>Find your perfect rental home</p>
      </div>
      <a routerLink="/properties" class="btn btn-primary">
        <mat-icon>search</mat-icon>
        Browse Properties
      </a>
    </div>

    <!-- Stats Cards -->
    <div class="stats-grid animate-fade-in">
      <div class="stat-card">
        <div class="stat-icon total">
          <mat-icon>event_note</mat-icon>
        </div>
        <div class="stat-info">
          <span class="stat-value">{{ bookings.length }}</span>
          <span class="stat-label">Total Bookings</span>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon pending">
          <mat-icon>pending_actions</mat-icon>
        </div>
        <div class="stat-info">
          <span class="stat-value">{{ pendingBookings.length }}</span>
          <span class="stat-label">Pending</span>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon approved">
          <mat-icon>check_circle</mat-icon>
        </div>
        <div class="stat-info">
          <span class="stat-value">{{ approvedBookings.length }}</span>
          <span class="stat-label">Approved</span>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions animate-slide-up">
      <h2>Quick Actions</h2>
      <div class="actions-grid">
        <a routerLink="/properties" class="action-card">
          <mat-icon>search</mat-icon>
          <span>Find Properties</span>
          <p>Browse available rentals</p>
        </a>
        <a routerLink="/tenant/bookings" class="action-card">
          <mat-icon>history</mat-icon>
          <span>My Bookings</span>
          <p>View booking history</p>
        </a>
      </div>
    </div>

    <!-- Recent Bookings -->
    @if (recentBookings.length > 0) {
      <div class="recent-section animate-slide-up">
        <div class="section-header">
          <h2>Recent Bookings</h2>
          <a routerLink="/tenant/bookings" class="view-all">
            View All
            <mat-icon>arrow_forward</mat-icon>
          </a>
        </div>
        <div class="bookings-list">
          @for (booking of recentBookings; track booking.id) {
            <div class="booking-item">
              <div class="booking-info">
                <h4>{{ booking.property_title }}</h4>
                <p>{{ booking.check_in | date:'MMM d' }} - {{ booking.check_out | date:'MMM d, yyyy' }}</p>
              </div>
              <span class="badge" 
                    [class.badge-pending]="booking.status === 'Pending'"
                    [class.badge-approved]="booking.status === 'Approved'"
                    [class.badge-rejected]="booking.status === 'Rejected'">
                {{ booking.status }}
              </span>
            </div>
          }
        </div>
      </div>
    } @else if (!isLoading) {
      <div class="empty-state animate-fade-in">
        <mat-icon>event_note</mat-icon>
        <h3>No Bookings Yet</h3>
        <p>Start by browsing properties and making your first booking!</p>
        <a routerLink="/properties" class="btn btn-primary">Browse Properties</a>
      </div>
    }
  </div>
</div>
